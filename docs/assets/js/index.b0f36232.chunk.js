(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,,,function(e,t,a){e.exports=a(10)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(2),i=a.n(l);const r=window.requestIdleCallback||window.requestAnimationFrame;class o extends n.Component{constructor(){super(...arguments),this.state={ghostHeight:0,triggerWidth:0,expanded:!1,isClamped:!1},this.$el=n.createRef(),this.$trigger=n.createRef(),this.$content=n.createRef(),this.toggle=e=>{e.preventDefault(),e.stopPropagation(),this.setState({expanded:!this.state.expanded})}}get styles(){const{lineHeight:e,fontSize:t,maxLine:a}=this.props,{expanded:n}=this.state;return{fontSize:t+"px",lineHeight:e+"px",maxHeight:n?"none":e*a+"px"}}get isSingleLine(){return 1===this.props.maxLine}get isShowContentMirror(){const{isClamped:e,expanded:t}=this.state;return e&&!t}get containerStyles(){const{showExpand:e,maxLine:t,style:a,triggerWidthPercent:n=1.2,triggerWidth:s}=this.props,{expanded:l,triggerWidth:i}=this.state,r=Object.assign({WebkitLineClamp:l?void 0:t,maxHeight:this.styles.maxHeight},a);if(!e)return r;const o=s||i*n;return Object.assign(Object.assign({},r),{fontSize:l?"0px":o+"px",color:l?"inherit":"transparent"})}get contentStyles(){return Object.assign({fontSize:this.styles.fontSize,lineHeight:this.styles.lineHeight,userSelect:this.isShowContentMirror?"none":"initial"},this.props.contentStyle)}get ghostStyles(){return{height:this.state.ghostHeight+"px"}}get placeholderStyles(){return{height:this.state.expanded?"auto":this.styles.maxHeight}}get triggerStyles(){const{styles:e}=this;return Object.assign({fontSize:e.fontSize,height:e.lineHeight,marginTop:`-${e.lineHeight}`,lineHeight:this.styles.lineHeight},this.props.triggerStyle)}get triggerMirrorStyles(){return Object.assign({marginLeft:"5px",float:"none",marginTop:"0px",zIndex:2},this.triggerStyles)}setClamped(e){this.setState({isClamped:e}),this.calc()}getLen(){const{current:e}=this.$content;return e?e.getClientRects().length:0}update(){const{maxLine:e}=this.props,t=this.getLen();this.setClamped(t>e)}calc(){const{lineHeight:e,maxLine:t}=this.props;let a;a=this.getLen()>t?e*(t+1):e*(t-1),this.setState({ghostHeight:a}),Promise.resolve().then(()=>{const{current:e}=this.$trigger;this.setState({triggerWidth:e?e.offsetWidth:0})})}componentDidMount(){this.props.showExpand&&r(()=>{this.update(),function(e,t){const a=document.createElement("object");a.setAttribute("style","position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden;opacity: 0; pointer-events: none; z-index: -1;"),a.onload=()=>{a.contentDocument.defaultView.addEventListener("resize",t,!1)},a.type="text/html",e.appendChild(a),a.data="about:blank"}(this.$el.current,this.update.bind(this))})}renderTrigger(){const{toggle:e}=this,{isClamped:t,expanded:a}=this.state,n={expanded:a,isClamped:t,toggle:e},{renderTrigger:s}=this.props;return s?s(n):a?"[hide]":"[...more]"}render(){const{toggle:e,isSingleLine:t}=this,{triggerClass:a,contentClass:s,tag:l,showExpand:i,children:r,className:o=""}=this.props,h=l,{isClamped:c,expanded:g}=this.state;if(!i){const e=["text-clamp",t?"single-clamp":"multi-clamp",o].filter(Boolean).join(" ");return n.createElement("div",{ref:this.$el,className:e,style:this.containerStyles},r)}const p=this.renderTrigger(),d={className:`clamp-trigger ${a||""}`,onClick:e},b=this.isShowContentMirror?n.createElement("span",{className:"clamp-content-mirror",style:this.contentStyles},r):null,m=c?g?n.createElement("span",Object.assign({},d,{style:this.triggerMirrorStyles}),p):n.createElement("div",{className:"clamp-ghost",style:this.ghostStyles},n.createElement("div",{className:"clamp-placeholder",style:this.placeholderStyles}),n.createElement("span",Object.assign({ref:this.$trigger},d,{style:this.triggerStyles}),p)):null;return n.createElement(h,{ref:this.$el,className:`text-clamp with-trigger multi-clamp ${o}`,style:this.containerStyles},n.createElement("span",{ref:this.$content,className:`clamp-content ${s||""}`,style:this.contentStyles},r),b,m)}}o.defaultProps={tag:"div",fontSize:14,showExpand:!1,lineHeight:16};a(8);var h=function(){const[e,t]=Object(n.useState)(50),[a,l]=Object(n.useState)(2),i={width:`${e}vw`},r="bla bla bla bla bla blabla bla blabla bla blabla bla blabla bla blabla\n  bla blabla bla bla bla bla blabla bla blabla bla blabla bla blabla bla\n  blabla bla blabla bla blabla bla bla la blabla bla blabla bla blala blabla bla blabla bla blala blabla bla blabla bla bla";return s.a.createElement("div",{style:{lineHeight:"16px"}},s.a.createElement("div",null,"width:",s.a.createElement("input",{type:"range",value:e,onChange:e=>t(+e.target.value)})," ",e,"vw"),s.a.createElement("div",null,"maxLine:",s.a.createElement("input",{type:"number",value:a,onChange:e=>l(+e.target.value)})),s.a.createElement(o,{className:"demo",maxLine:a,style:i},r),s.a.createElement(o,{className:"demo",maxLine:a,showExpand:!0,style:i},r),s.a.createElement(o,{className:"demo",maxLine:a,lineHeight:20,showExpand:!0,style:i,renderTrigger:({expanded:e})=>s.a.createElement("button",null,"toggle")},r))};a(9);i.a.render(s.a.createElement(h,null),document.getElementById("app"))}],[[3,2,0]]]);