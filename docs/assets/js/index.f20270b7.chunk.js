(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,,,function(e,t,n){e.exports=n(10)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(2),l=n.n(i);n(8);var r=function(e,t,n,a){return new(n||(n=Promise))((function(s,i){function l(e){try{o(a.next(e))}catch(t){i(t)}}function r(e){try{o(a.throw(e))}catch(t){i(t)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,r)}o((a=a.apply(e,t||[])).next())}))};const o=window.requestIdleCallback||window.requestAnimationFrame;class h extends a.Component{constructor(){super(...arguments),this.state={ghostHeight:0,triggerWidth:0,expanded:!1,isClamped:!1},this.$el=a.createRef(),this.$trigger=a.createRef(),this.$content=a.createRef(),this.toggle=e=>{e.preventDefault(),e.stopPropagation(),this.setState({expanded:!this.state.expanded})}}get styles(){const{lineHeight:e,fontSize:t,maxLine:n}=this.props,{expanded:a}=this.state;return{fontSize:t+"px",lineHeight:e+"px",maxHeight:a?"none":e*n+"px"}}get isSingleLine(){return 1===this.props.maxLine}get isShowContentMirror(){const{isClamped:e,expanded:t}=this.state;return e&&!t}get containerStyles(){const{showExpand:e,maxLine:t,style:n}=this.props,{expanded:a,triggerWidth:s}=this.state,i=Object.assign({WebkitLineClamp:a?void 0:t,maxHeight:this.styles.maxHeight},n);return e?Object.assign(Object.assign({},i),{fontSize:a?"0px":1.2*s+"px",color:a?"inherit":"transparent"}):i}get contentStyles(){return Object.assign({fontSize:this.styles.fontSize,lineHeight:this.styles.lineHeight,userSelect:this.isShowContentMirror?"none":"initial"},this.props.contentStyle)}get ghostStyles(){return{height:this.state.ghostHeight+"px"}}get placeholderStyles(){return{height:this.state.expanded?"auto":this.styles.maxHeight}}get triggerStyles(){const{styles:e}=this;return Object.assign({fontSize:e.fontSize,height:e.lineHeight,marginTop:`-${e.lineHeight}`,lineHeight:this.styles.lineHeight},this.props.triggerStyle)}get triggerMirrorStyles(){return Object.assign({marginLeft:"5px",float:"none",marginTop:"0px",zIndex:2},this.triggerStyles)}setClamped(e){this.setState({isClamped:e}),this.calc()}getLen(){const{current:e}=this.$content;return e?e.getClientRects().length:0}update(){const{maxLine:e}=this.props,t=this.getLen();this.setClamped(t>e)}calc(){return r(this,void 0,void 0,(function*(){const{lineHeight:e,maxLine:t}=this.props;let n;n=this.getLen()>t?e*(t+1):e*(t-1),this.setState({ghostHeight:n}),yield Promise.resolve();const{current:a}=this.$trigger;this.setState({triggerWidth:a?a.offsetWidth:0})}))}componentDidMount(){this.props.showExpand&&o(()=>{this.update(),function(e,t){const n=document.createElement("object");n.setAttribute("style","position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden;opacity: 0; pointer-events: none; z-index: -1;"),n.onload=()=>{n.contentDocument.defaultView.addEventListener("resize",t,!1)},n.type="text/html",e.appendChild(n),n.data="about:blank"}(this.$el.current,this.update.bind(this))})}renderTrigger(){const{toggle:e}=this,{isClamped:t,expanded:n}=this.state,a={expanded:n,isClamped:t,toggle:e},{renderTrigger:s}=this.props;return s?s(a):n?"[hide]":"[...more]"}render(){const{toggle:e,isSingleLine:t}=this,{triggerClass:n,contentClass:s,tag:i,showExpand:l,children:r,className:o=""}=this.props,h=i,{isClamped:c,expanded:g}=this.state;if(!l){const e=["ellipsis-container",t?"single-clamp":"multi-clamp",o].filter(Boolean).join(" ");return a.createElement("div",{ref:this.$el,className:e,style:this.containerStyles},r)}const p=this.renderTrigger(),d={className:`ellipsis-trigger ${n||""}`,onClick:e},b=this.isShowContentMirror?a.createElement("span",{className:"ellipsis-content-mirror",style:this.contentStyles},r):null,m=c?g?a.createElement("span",Object.assign({},d,{style:this.triggerMirrorStyles}),p):a.createElement("div",{className:"ellipsis-ghost",style:this.ghostStyles},a.createElement("div",{className:"ellipsis-placeholder",style:this.placeholderStyles}),a.createElement("span",Object.assign({ref:this.$trigger},d,{style:this.triggerStyles}),p)):null;return a.createElement(h,{ref:this.$el,className:`ellipsis-container with-expand multi-clamp ${o}`,style:this.containerStyles},a.createElement("span",{ref:this.$content,className:`ellipsis-content ${s||""}`,style:this.contentStyles},r),b,m)}}h.defaultProps={tag:"div",fontSize:14,showExpand:!1,lineHeight:16};var c=function(){const[e,t]=Object(a.useState)(50),[n,i]=Object(a.useState)(2),l={width:`${e}vw`};console.log("ren2der");const r="bla bla bla bla bla blabla bla blabla bla blabla bla blabla bla blabla\n  bla blabla bla bla bla bla blabla bla blabla bla blabla bla blabla bla\n  blabla bla blabla bla blabla bla bla la blabla bla blabla bla blala blabla bla blabla bla blala blabla bla blabla bla bla";return s.a.createElement("div",{style:{lineHeight:"16px"}},s.a.createElement("div",null,"width:",s.a.createElement("input",{type:"range",value:e,onChange:e=>t(+e.target.value)})," ",e,"vw"),s.a.createElement("div",null,"maxLine:",s.a.createElement("input",{type:"number",value:n,onChange:e=>i(+e.target.value)})),s.a.createElement(h,{className:"demo",maxLine:n,style:l},r),s.a.createElement(h,{className:"demo",maxLine:n,showExpand:!0,style:l},r),s.a.createElement(h,{className:"demo",maxLine:n,lineHeight:20,showExpand:!0,style:l,renderTrigger:({expanded:e})=>s.a.createElement("button",null,"toggle")},r))};n(9);console.log(c),l.a.render(s.a.createElement(c,null),document.getElementById("app"))}],[[3,2,0]]]);